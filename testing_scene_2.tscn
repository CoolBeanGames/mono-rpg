[gd_scene load_steps=28 format=4 uid="uid://dkjmv1p4kfpot"]

[ext_resource type="Texture2D" uid="uid://dc2efrgcmfpv6" path="res://Art/Tilesets/tileTest2.png" id="1_rrl5q"]
[ext_resource type="Texture2D" uid="uid://hlhugpfw3dd4" path="res://icon.svg" id="2_wy3sm"]
[ext_resource type="Script" uid="uid://bbbrty2uckg5p" path="res://entities/player/scripts/movement_component.gd" id="3_qdbyx"]
[ext_resource type="PackedScene" uid="uid://c41gik2j52gap" path="res://entities/world/zones/teleport_zone.tscn" id="4_qdbyx"]
[ext_resource type="PackedScene" uid="uid://ck6q4qtd6wlht" path="res://entities/world/zones/spawm_point.tscn" id="5_4j7el"]
[ext_resource type="Script" uid="uid://cq7qjdjxmsffw" path="res://test_character.gd" id="6_sw2hk"]
[ext_resource type="PackedScene" uid="uid://7idwryssfuds" path="res://entities/components/interaction_action_dispatcher.tscn" id="7_sw2hk"]
[ext_resource type="Script" uid="uid://bdwt4vpdiae04" path="res://base/resource_base/condition.gd" id="8_whlth"]
[ext_resource type="Script" uid="uid://dbko7d10ach07" path="res://base/resource_base/action_set.gd" id="9_n8isg"]
[ext_resource type="Script" uid="uid://cjv7glsjpqe1l" path="res://Data/resources/conditions/condition_flag_status.gd" id="10_xikkk"]
[ext_resource type="Script" uid="uid://b5454cf2fiivm" path="res://base/resource_base/action.gd" id="11_7tpj6"]
[ext_resource type="Script" uid="uid://ioncjrvpsq7w" path="res://Data/resources/actions/action_start_dialog.gd" id="12_l2qom"]
[ext_resource type="Script" uid="uid://ck45c7s80n7o1" path="res://Data/resources/actions/action_set_flag.gd" id="13_becqc"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_map4d"]
texture = ExtResource("1_rrl5q")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:0/0 = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:0/0 = 0
3:0/0 = 0
0:1/0 = 0
1:1/0 = 0
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:1/0 = 0
3:1/0 = 0
0:2/0 = 0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:2/0 = 0
1:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:2/0 = 0
2:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
3:2/0 = 0
3:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0
3:3/0 = 0

[sub_resource type="TileSet" id="TileSet_y47j6"]
tile_size = Vector2i(32, 32)
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_map4d")

[sub_resource type="CircleShape2D" id="CircleShape2D_k6s54"]
radius = 14.142136

[sub_resource type="Resource" id="Resource_akh8n"]
script = ExtResource("10_xikkk")
flag = "first_convo"
check_for = 1
metadata/_custom_type_script = "uid://cjv7glsjpqe1l"

[sub_resource type="Resource" id="Resource_8f5dq"]
script = ExtResource("12_l2qom")
dialog_key = "first_convo"
metadata/_custom_type_script = "uid://ioncjrvpsq7w"

[sub_resource type="Resource" id="Resource_2f6r4"]
script = ExtResource("13_becqc")
flag = "first_convo"
metadata/_custom_type_script = "uid://ck45c7s80n7o1"

[sub_resource type="Resource" id="Resource_ud72p"]
script = ExtResource("9_n8isg")
actions = Array[ExtResource("11_7tpj6")]([SubResource("Resource_8f5dq"), SubResource("Resource_2f6r4")])
metadata/_custom_type_script = "uid://dbko7d10ach07"

[sub_resource type="Resource" id="Resource_3edv8"]
script = ExtResource("10_xikkk")
flag = "second_convo"
check_for = 1
metadata/_custom_type_script = "uid://cjv7glsjpqe1l"

[sub_resource type="Resource" id="Resource_yujso"]
script = ExtResource("12_l2qom")
dialog_key = "second_convo"
metadata/_custom_type_script = "uid://ioncjrvpsq7w"

[sub_resource type="Resource" id="Resource_ichjc"]
script = ExtResource("13_becqc")
flag = "second_convo"
metadata/_custom_type_script = "uid://ck45c7s80n7o1"

[sub_resource type="Resource" id="Resource_3nnhs"]
script = ExtResource("9_n8isg")
actions = Array[ExtResource("11_7tpj6")]([SubResource("Resource_yujso"), SubResource("Resource_ichjc")])
metadata/_custom_type_script = "uid://dbko7d10ach07"

[sub_resource type="Resource" id="Resource_kgw25"]
script = ExtResource("10_xikkk")
flag = "second_convo"
metadata/_custom_type_script = "uid://cjv7glsjpqe1l"

[sub_resource type="Resource" id="Resource_eejwb"]
script = ExtResource("12_l2qom")
dialog_key = "final_convo"
metadata/_custom_type_script = "uid://ioncjrvpsq7w"

[sub_resource type="Resource" id="Resource_b8ido"]
script = ExtResource("9_n8isg")
actions = Array[ExtResource("11_7tpj6")]([SubResource("Resource_eejwb")])
metadata/_custom_type_script = "uid://dbko7d10ach07"

[node name="test" type="Node2D"]

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAACAAIAAAABAAAAAAACAAMAAAABAAAAAAACAAQAAAABAAAAAAACAAUAAAABAAAAAAACAAYAAAABAAAAAAACAAcAAAABAAAAAAACAAgAAAABAAAAAAACAAkAAAABAAAAAAACAAoAAAABAAAAAAACAAsAAAABAAAAAAADAAsAAAABAAAAAAAIAAsAAAABAAAAAAAJAAsAAAABAAAAAAAKAAsAAAABAAAAAAALAAsAAAABAAAAAAAPAAsAAAABAAAAAAAHAAsAAAABAAAAAAAQAAsAAAABAAAAAAAQAAoAAAABAAAAAAAQAAkAAAABAAAAAAAQAAgAAAABAAAAAAAQAAcAAAABAAAAAAAQAAYAAAABAAAAAAAQAAUAAAABAAAAAAAQAAQAAAABAAAAAAAQAAMAAAABAAAAAAAQAAIAAAABAAAAAAADAAIAAAABAAAAAAAHAAIAAAABAAAAAAAIAAIAAAABAAAAAAAJAAIAAAABAAAAAAAKAAIAAAABAAAAAAALAAIAAAABAAAAAAAPAAIAAAABAAAAAAADAAMAAAAAAAAAAAADAAQAAAAAAAAAAAADAAUAAAAAAAEAAAADAAYAAAAAAAEAAAADAAcAAAAAAAEAAAADAAgAAAAAAAEAAAADAAkAAAAAAAEAAAADAAoAAAAAAAEAAAAEAAMAAAAAAAAAAAAEAAQAAAAAAAAAAAAEAAUAAAAAAAEAAAAEAAYAAAAAAAEAAAAEAAcAAAAAAAEAAAAEAAgAAAAAAAEAAAAEAAkAAAAAAAEAAAAEAAoAAAAAAAEAAAAFAAMAAAAAAAAAAAAFAAQAAAAAAAAAAAAFAAUAAAAAAAEAAAAFAAYAAAAAAAEAAAAFAAcAAAAAAAEAAAAFAAgAAAAAAAEAAAAFAAkAAAAAAAEAAAAFAAoAAAAAAAEAAAAGAAMAAAAAAAAAAAAGAAQAAAAAAAAAAAAGAAUAAAAAAAEAAAAGAAYAAAAAAAEAAAAGAAcAAAAAAAEAAAAGAAgAAAAAAAEAAAAGAAkAAAAAAAEAAAAGAAoAAAAAAAEAAAAHAAMAAAAAAAAAAAAHAAQAAAAAAAAAAAAHAAUAAAAAAAEAAAAHAAYAAAAAAAEAAAAHAAcAAAAAAAEAAAAHAAgAAAAAAAEAAAAHAAkAAAAAAAEAAAAHAAoAAAAAAAEAAAAIAAMAAAAAAAAAAAAIAAQAAAAAAAAAAAAIAAUAAAAAAAEAAAAIAAYAAAAAAAEAAAAIAAcAAAAAAAEAAAAIAAgAAAAAAAEAAAAIAAkAAAAAAAEAAAAIAAoAAAAAAAEAAAAJAAMAAAAAAAAAAAAJAAQAAAAAAAAAAAAJAAUAAAAAAAEAAAAJAAYAAAAAAAEAAAAJAAcAAAAAAAEAAAAJAAgAAAAAAAEAAAAJAAkAAAAAAAEAAAAJAAoAAAAAAAEAAAAKAAMAAAAAAAAAAAAKAAQAAAAAAAAAAAAKAAUAAAAAAAEAAAAKAAYAAAAAAAEAAAAKAAcAAAAAAAEAAAAKAAgAAAAAAAEAAAAKAAkAAAAAAAEAAAAKAAoAAAAAAAEAAAALAAMAAAAAAAAAAAALAAQAAAAAAAAAAAALAAUAAAAAAAEAAAALAAYAAAAAAAEAAAALAAcAAAAAAAEAAAALAAgAAAAAAAEAAAALAAkAAAAAAAEAAAALAAoAAAAAAAEAAAAMAAMAAAAAAAAAAAAMAAQAAAAAAAAAAAAMAAUAAAAAAAEAAAAMAAYAAAAAAAEAAAAMAAcAAAAAAAEAAAAMAAgAAAAAAAEAAAAMAAkAAAAAAAEAAAAMAAoAAAAAAAEAAAANAAMAAAAAAAAAAAANAAQAAAAAAAAAAAANAAUAAAAAAAEAAAANAAYAAAAAAAEAAAANAAcAAAAAAAEAAAANAAgAAAAAAAEAAAANAAkAAAAAAAEAAAANAAoAAAAAAAEAAAAOAAMAAAAAAAAAAAAOAAQAAAAAAAAAAAAOAAUAAAAAAAEAAAAOAAYAAAAAAAEAAAAOAAcAAAAAAAEAAAAOAAgAAAAAAAEAAAAOAAkAAAAAAAEAAAAOAAoAAAAAAAEAAAAPAAMAAAAAAAAAAAAPAAQAAAAAAAAAAAAPAAUAAAAAAAEAAAAPAAYAAAAAAAEAAAAPAAcAAAAAAAEAAAAPAAgAAAAAAAEAAAAPAAkAAAAAAAEAAAAPAAoAAAAAAAEAAAACAAwAAAAAAAAAAAACAA0AAAAAAAAAAAADAAwAAAAAAAAAAAADAA0AAAAAAAAAAAAHAAwAAAAAAAAAAAAHAA0AAAAAAAAAAAAIAAwAAAAAAAAAAAAIAA0AAAAAAAAAAAAJAAwAAAAAAAAAAAAJAA0AAAAAAAAAAAAKAAwAAAAAAAAAAAAKAA0AAAAAAAAAAAALAAwAAAAAAAAAAAALAA0AAAAAAAAAAAAPAAwAAAAAAAAAAAAPAA0AAAAAAAAAAAAQAAwAAAAAAAAAAAAQAA0AAAAAAAAAAAAMAAIAAAABAAAAAAANAAIAAAABAAAAAAAOAAIAAAABAAAAAAAEAAIAAAABAAAAAAAFAAIAAAABAAAAAAAGAAIAAAABAAAAAAAEAAsAAAAAAAEAAAAEAAwAAAAAAAEAAAAFAAsAAAAAAAEAAAAFAAwAAAAAAAEAAAAGAAsAAAAAAAEAAAAGAAwAAAAAAAEAAAAMAAsAAAAAAAEAAAAMAAwAAAAAAAEAAAANAAsAAAAAAAEAAAANAAwAAAAAAAEAAAAOAAsAAAAAAAEAAAAOAAwAAAAAAAEAAAA=")
tile_set = SubResource("TileSet_y47j6")

[node name="player" type="CharacterBody2D" parent="." groups=["player"]]
position = Vector2(310, 255)

[node name="CollisionShape2D" type="CollisionShape2D" parent="player"]
shape = SubResource("CircleShape2D_k6s54")

[node name="temp_sprite" type="Sprite2D" parent="player"]
scale = Vector2(0.25, 0.25)
texture = ExtResource("2_wy3sm")

[node name="components" type="Node" parent="player"]

[node name="movement_component" type="Node" parent="player/components" node_paths=PackedStringArray("body")]
script = ExtResource("3_qdbyx")
body = NodePath("../..")

[node name="left_door" parent="." instance=ExtResource("4_qdbyx")]
position = Vector2(176, 398)
spawn_point_key = "left_door"
scene_path = "res://testing_scene.tscn"

[node name="left_zone" parent="." node_paths=PackedStringArray("player_reference") instance=ExtResource("5_4j7el")]
position = Vector2(178, 345)
key = "left_door"
player_reference = NodePath("../player")

[node name="right_door" parent="." instance=ExtResource("4_qdbyx")]
position = Vector2(432, 398)
spawn_point_key = "right_door"
scene_path = "res://testing_scene.tscn"

[node name="right_spawn" parent="." node_paths=PackedStringArray("player_reference") instance=ExtResource("5_4j7el")]
position = Vector2(434, 345)
key = "right_door"
player_reference = NodePath("../player")

[node name="test_character" type="Sprite2D" parent="."]
modulate = Color(1, 0, 0, 1)
position = Vector2(307, 180)
scale = Vector2(0.25, 0.25)
texture = ExtResource("2_wy3sm")
script = ExtResource("6_sw2hk")

[node name="interaction_action_dispatcher" parent="test_character" instance=ExtResource("7_sw2hk")]
sets = Dictionary[ExtResource("8_whlth"), ExtResource("9_n8isg")]({
SubResource("Resource_akh8n"): SubResource("Resource_ud72p"),
SubResource("Resource_3edv8"): SubResource("Resource_3nnhs"),
SubResource("Resource_kgw25"): SubResource("Resource_b8ido")
})

[editable path="left_door"]
[editable path="test_character/interaction_action_dispatcher"]
[editable path="test_character/interaction_action_dispatcher/interactable"]
